(()=>{var e={860:()=>{const e=document.querySelector(".burger"),t=document.querySelector(".header__nav"),r=document.querySelectorAll(".nav__button");e.addEventListener("click",(function(){e.classList.toggle("burger--active"),t.classList.toggle("burger-menu--active"),document.body.classList.toggle("burger-menu-overlay")})),r.forEach((r=>{r.addEventListener("click",(function(){e.classList.contains("burger--active")&&(e.classList.remove("burger--active"),t.classList.remove("burger-menu--active"),document.body.classList.remove("burger-menu-overlay"))}))})),document.body.addEventListener("click",(function(r){r.target.matches(".burger")||r.target.closest(".burger-menu--active")||(e.classList.remove("burger--active"),t.classList.remove("burger-menu--active"),document.body.classList.remove("burger-menu-overlay"))}))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}(()=>{"use strict";r(860);const e=document.getElementById("shortener-form"),t=document.getElementById("shortener-submitBtn"),n=document.getElementById("long-link"),o=document.getElementById("short-link"),s=document.querySelector(".form__input-wrapper--short-link"),c=document.querySelector(".hero__qr-body"),a=/^((ftp|http|https):\/\/)?(www\.)?([A-Za-zА-Яа-я0-9]{1}[A-Za-zА-Яа-я0-9\-]*\.?)*\.{1}[A-Za-zА-Яа-я0-9-]{2,8}(\/([\w#!:.?+=&%@!\-\/])*)?/;let i=e.querySelectorAll("input");function l(e){if("longLink"===e.name)return a.test(e.value)||""==e.value?(e.nextElementSibling.innerText="",e.classList.remove("error-input"),!0):(e.nextElementSibling.innerText="Введите корректный адрес ссылки",e.classList.add("error-input"),!1)}e.setAttribute("novalidate",!0),i.forEach((e=>{e!=o&&(e.addEventListener("blur",(()=>l(e))),e.addEventListener("input",(()=>l(e))))})),e.addEventListener("submit",(function(e){e.preventDefault();let r=!1;i.forEach((e=>{e!=o&&(r=l(e)&&function(e){return""===e.value?(e.nextElementSibling.innerText="Поле не должно быть пустым",e.classList.add("error-input"),!1):(e.nextElementSibling.innerText="",e.classList.remove("error-input"),!0)}(n))})),r&&(t.classList.add("loader"),i.forEach((e=>e.setAttribute("disabled","disabled"))),async function(){JSON.stringify(function(){let e={};for(let t of i)t!=o&&t.value&&(e[t.name]=t.value);return e}());try{let e=await fetch("https://jsonplaceholder.typicode.com/todos/1"),t=await e.json();console.log("Полученный json (shortener):"),console.log(t),o.value=t.shortLink,u.src="data:image/jpg;base64,".concat(t.qr)}catch(e){console.error("ошибка при запросе (shortener): "+e)}}().then((()=>{t.classList.remove("loader"),i.forEach((e=>e.removeAttribute("disabled"))),s.classList.add("open"),c.classList.add("open"),n.value=""})))}));const u=document.getElementById("qr");const d=document.getElementById("shortener-copyBtn");d.addEventListener("click",(e=>{e.preventDefault(),d.classList.add("checkmark"),async function(e){try{await navigator.clipboard.writeText(e),console.log("copied to clipboard")}catch(e){console.error(e)}}(o.value).then((()=>setTimeout((()=>d.classList.remove("checkmark")),1e3)))}))})()})();