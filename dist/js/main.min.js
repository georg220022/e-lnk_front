(()=>{var e={860:()=>{const e=document.querySelector(".burger"),t=document.querySelector(".header__nav"),n=document.querySelectorAll(".nav__button");e.addEventListener("click",(function(){e.classList.toggle("burger--active"),t.classList.toggle("burger-menu--active"),document.body.classList.toggle("burger-menu-overlay")})),n.forEach((n=>{n.addEventListener("click",(function(){e.classList.contains("burger--active")&&(e.classList.remove("burger--active"),t.classList.remove("burger-menu--active"),document.body.classList.remove("burger-menu-overlay"))}))})),document.body.addEventListener("click",(function(n){n.target.matches(".burger")||n.target.closest(".burger-menu--active")||(e.classList.remove("burger--active"),t.classList.remove("burger-menu--active"),document.body.classList.remove("burger-menu-overlay"))}))}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{"use strict";n(860);const e=document.getElementById("shortener-form"),t=document.getElementById("submit-btn"),r=document.getElementById("long-link"),a=document.getElementById("short-link"),o=/^((ftp|http|https):\/\/)?(www\.)?([A-Za-zА-Яа-я0-9]{1}[A-Za-zА-Яа-я0-9\-]*\.?)*\.{1}[A-Za-zА-Яа-я0-9-]{2,8}(\/([\w#!:.?+=&%@!\-\/])*)?/;let s=e.querySelectorAll("input");function i(e){if("long-link"===e.name)return o.test(e.value)||""==e.value?(e.nextElementSibling.innerText="",e.classList.remove("error-input"),!0):(e.nextElementSibling.innerText="Введите корректный адрес ссылки",e.classList.add("error-input"),!1)}e.setAttribute("novalidate",!0),s.forEach((e=>{e!=a&&(e.addEventListener("blur",(()=>i(e))),e.addEventListener("input",(()=>i(e))))})),e.addEventListener("submit",(function(e){e.preventDefault();let n=!1;s.forEach((e=>{e!=a&&(n=i(e)&&function(e){return""===e.value?(e.nextElementSibling.innerText="Поле не должно быть пустым",e.classList.add("error-input"),!1):(e.nextElementSibling.innerText="",e.classList.remove("error-input"),!0)}(r))})),n&&(t.classList.add("loader"),s.forEach((e=>e.setAttribute("disabled","disabled"))),async function(){try{let e=await fetch(c,d),t=await e.json();a.value=t.name,l.src="data:image/jpg;base64,".concat(t.qr)}catch(e){console.error("ошибка при запросе (shortener): "+e)}}().then((()=>{t.classList.remove("loader"),s.forEach((e=>e.removeAttribute("disabled"))),r.value=""})))}));const c="api/v1/links",l=document.getElementById("qr");let u={longLink:r.value};const d={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(u)},m=document.getElementById("copy-btn");m.addEventListener("click",(e=>{e.preventDefault(),m.classList.add("checkmark"),async function(e){try{await navigator.clipboard.writeText(e),console.log("copied to clipboard")}catch(e){console.error(e)}}(a.value).then((()=>setTimeout((()=>m.classList.remove("checkmark")),1e3)))}))})()})();